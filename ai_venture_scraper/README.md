# 벤처기업 공시 데이터 수집 API

본 문서는 벤처기업의 공시 정보를 수집하는 FastAPI 기반의 API 서버에 대한 설명을 담고 있습니다. 이 API는 주기적으로 벤처기업 공시 데이터를 수집하며, 수집된 데이터는 지정된 데이터베이스에 저장됩니다.

## API 엔드포인트

- `GET /health`: 서버의 상태를 확인하는 헬스 체크 엔드포인트입니다.
- `GET /scrape/vntr`: 벤처기업 공시 데이터를 수집하는 엔드포인트입니다.

## 사용 방법

### 서버 상태 확인

`/health` 엔드포인트를 호출하여 API 서버의 상태를 확인할 수 있습니다.

```
GET /health
```

성공적으로 호출되면 다음과 같은 응답을 반환합니다:

```json
{
  "status": "healthy"
}
```

### 벤처기업 공시 데이터 수집

`/scrape/vntr` 엔드포인트에 `GET` 요청을 보내 벤처기업 공시 데이터 수집을 시작할 수 있습니다. 이 엔드포인트는 유효한 토큰을 요구합니다.

```
GET /scrape/vntr?token={ACCESS_TOKEN}
```

정상적으로 수집이 시작되면 다음과 같은 응답을 반환합니다:

```json
{
  "status": "Scraping in progress..."
}
```

수집 과정에 문제가 발생하면 다음과 같은 응답을 반환합니다:

```json
{
  "status": "Scraping failed..."
}
```

## 스케줄링

API는 `BackgroundScheduler`를 사용하여 매달 5일마다 자동으로 벤처기업 공시 데이터 수집을 수행합니다. 이 스케줄링은 서버가 시작될 때 활성화됩니다.

## 로깅

모든 수집 작업은 로그 파일에 기록됩니다. 로그 파일은 `{현재 날짜}_main.log` 형식으로 저장되며, 로그는 작업의 시작, 오류 발생, 작업 완료 시점에 추가됩니다.

## 설정

API는 환경 설정 파일에서 설정값을 로드합니다. 이 파일에는 로그 파일 경로, 시놀로지 챗봇 토큰, 데이터베이스 연결 정보가 포함되어 있습니다.

## 개발 및 유지보수

API는 FastAPI 프레임워크를 사용하여 개발되었습니다. 코드의 유지보수와 확장을 위해서는 FastAPI 및 Python에 대한 지식이 필요합니다.
